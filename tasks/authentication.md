Create a secure authentication system with Supabase integration for a web application:

1. Authentication Requirements:
- Implement username/password authentication using Supabase Auth
- Protect the /profile route with authentication middleware
- Allow public access to all other routes
- Redirect unauthenticated users to /login when accessing protected routes
- Set up proper session management and token handling


Please handle properly signup/login flows, redirections and corner cases